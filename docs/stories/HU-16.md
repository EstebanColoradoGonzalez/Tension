# HU-16 — Historial de Ejercicios y Sesiones

## Requisitos relacionados

RF50, RF51, RF60

## Descripción

Como ejecutante, quiero consultar el historial completo de cualquier ejercicio con su tendencia de carga y el historial de todas mis sesiones pasadas con sus datos completos, para evaluar mi progreso real en cada movimiento, revisar mi entrenamiento reciente, comparar sesiones y tener un registro completo, accesible y trazable de todo mi trabajo realizado.

## Historias originales consolidadas

Esta historia consolida las siguientes historias del diseño original, que son dos perspectivas complementarias del mismo concepto (historial) y comparten la misma sección de navegación y los mismos datos fuente:

- **HU-23 original** — Consultar historial y tendencia de carga de un ejercicio (RF50, RF51)
- **HU-24 original** — Consultar historial de sesiones pasadas (RF60)

---

## Criterios de Aceptación

### Bloque A — Historial y Tendencia de Carga por Ejercicio (RF50, RF51)

#### CA-16.01 — Historial completo de registros

**Dado que** el ejecutante selecciona un ejercicio para consultar su historial,
**cuando** el sistema presenta los datos,
**entonces** muestra el historial completo de todas las sesiones en las que se registró ese ejercicio, incluyendo para cada sesión: fecha, peso utilizado (Kg), repeticiones logradas (por serie o totales), RIR (por serie o promedio) y clasificación de progresión (Progresión positiva, Mantenimiento o Regresión).

#### CA-16.02 — Orden cronológico

**Dado que** el sistema presenta el historial de un ejercicio,
**cuando** ordena las entradas,
**entonces** las muestra en orden cronológico, de la sesión más reciente a la más antigua, permitiendo al ejecutante ver primero su estado actual.

#### CA-16.03 — Historial independiente del módulo-versión

**Dado que** un ejercicio puede aparecer en varias versiones del mismo módulo o puede haber sido ejecutado como sustitución,
**cuando** el sistema construye el historial,
**entonces** incluye todos los registros del ejercicio independientemente de la versión del módulo en que se haya ejecutado, consolidando toda la data del ejercicio en una sola vista.

#### CA-16.04 — Visualización de la tendencia de carga

**Dado que** el ejecutante consulta un ejercicio con múltiples sesiones de historial,
**cuando** visualiza la tendencia de carga,
**entonces** el sistema muestra la evolución del peso utilizado a lo largo del tiempo, permitiendo identificar visualmente si la carga es ascendente, estable o descendente.

#### CA-16.05 — Ejercicios sin historial

**Dado que** el ejecutante consulta un ejercicio que nunca ha sido registrado,
**cuando** intenta ver el historial,
**entonces** el sistema indica que no hay registros disponibles para ese ejercicio.

#### CA-16.06 — Ejercicios de peso corporal: tendencia por repeticiones

**Dado que** el ejecutante consulta el historial de un ejercicio de peso corporal (Peso = 0),
**cuando** visualiza la tendencia,
**entonces** la tendencia se muestra por repeticiones totales en lugar de carga, ya que el peso no varía.

### Bloque B — Historial de Sesiones Pasadas (RF60)

#### CA-16.07 — Listado de sesiones pasadas

**Dado que** el ejecutante accede al historial de sesiones,
**cuando** el sistema presenta el listado,
**entonces** muestra todas las sesiones cerradas, cada una con: fecha, módulo (A, B o C), versión (V1, V2 o V3), estado (Completada o Incompleta) y tonelaje total, ordenadas de la más reciente a la más antigua.

#### CA-16.08 — Detalle de una sesión pasada

**Dado que** el ejecutante selecciona una sesión del historial,
**cuando** accede al detalle,
**entonces** el sistema muestra los ejercicios ejecutados en esa sesión con sus datos completos: para cada ejercicio, las series registradas con peso, repeticiones, RIR y la clasificación de progresión del ejercicio en esa sesión.

#### CA-16.09 — Sesiones incompletas en el historial

**Dado que** el ejecutante tiene sesiones cerradas como Incompletas,
**cuando** consulta el historial,
**entonces** las sesiones incompletas aparecen claramente marcadas como "Incompleta", mostrando solo los ejercicios y series que efectivamente fueron registrados, sin datos inventados para los ejercicios faltantes.

#### CA-16.10 — Sustituciones reflejadas en el historial

**Dado que** una sesión pasada incluyó sustituciones puntuales de ejercicios,
**cuando** el ejecutante consulta el detalle de esa sesión,
**entonces** el sistema muestra los ejercicios que realmente se ejecutaron (incluyendo los sustitutos), reflejando fielmente lo que ocurrió en la sesión.

#### CA-16.11 — Inmutabilidad de sesiones consultadas

**Dado que** el ejecutante consulta el detalle de una sesión pasada,
**cuando** visualiza los datos,
**entonces** toda la información es de solo lectura; no se ofrecen opciones para editar, eliminar o agregar datos a sesiones cerradas.

#### CA-16.12 — Historial vacío

**Dado que** el ejecutante no tiene sesiones cerradas registradas,
**cuando** accede al historial,
**entonces** el sistema indica que no hay sesiones pasadas disponibles.
