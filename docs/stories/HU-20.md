# HU-20 — Calcular KPIs de volumen por grupo muscular

## Requisitos relacionados

RF45, RF49

## Descripción

Como ejecutante, quiero que el sistema calcule el Tonelaje Acumulado por Grupo Muscular y la Distribución de Volumen por Zona Muscular en cada microciclo, para saber si estoy distribuyendo el estímulo de forma equilibrada entre mis grupos musculares y detectar desbalances que puedan limitar mi desarrollo estético.

## Criterios de Aceptación

### CA-20.01 — Cálculo del Tonelaje Acumulado por Grupo Muscular

**Dado que** un microciclo incluye sesiones con ejercicios registrados,
**cuando** el sistema calcula el Tonelaje Acumulado por Grupo Muscular,
**entonces** suma el producto de Peso × Repeticiones de todas las series de todos los ejercicios que trabajan cada grupo muscular dentro del microciclo, expresando el resultado en kilogramos por grupo muscular.

### CA-20.02 — Agrupación por zona muscular del Diccionario

**Dado que** el sistema calcula el tonelaje por grupo muscular,
**cuando** asocia cada ejercicio a su grupo muscular,
**entonces** utiliza la clasificación de zona muscular definida en el Diccionario de Ejercicios como fuente de verdad, respetando que un ejercicio puede trabajar múltiples zonas musculares (ej: Sentadilla Búlgara = Cuádriceps + Glúteos).

### CA-20.03 — Ejercicios con múltiples zonas musculares

**Dado que** un ejercicio trabaja múltiples zonas musculares según el Diccionario,
**cuando** el sistema calcula el tonelaje acumulado,
**entonces** contabiliza el tonelaje de ese ejercicio en cada una de las zonas musculares asociadas.

### CA-20.04 — Cálculo de la Distribución de Volumen por Zona Muscular

**Dado que** un microciclo tiene sesiones registradas para un módulo,
**cuando** el sistema calcula la Distribución de Volumen por Zona Muscular,
**entonces** calcula el porcentaje de series totales de cada zona muscular respecto al total de series del módulo, expresando el resultado como porcentaje por zona.

### CA-20.05 — Cálculo por microciclo completado

**Dado que** el sistema calcula KPIs de volumen,
**cuando** determina el alcance temporal del cálculo,
**entonces** lo calcula por microciclo completado, asociando los resultados al número de microciclo correspondiente para permitir comparación entre microciclos.

### CA-20.06 — Presentación de KPIs al ejecutante

**Dado que** el sistema ha calculado los KPIs de volumen,
**cuando** el ejecutante consulta las métricas de volumen,
**entonces** muestra el Tonelaje Acumulado desglosado por grupo muscular y la Distribución de Volumen (%) por zona muscular, ambos referenciados al microciclo consultado.
