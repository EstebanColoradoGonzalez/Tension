# HU-17 — Sistema de Alertas

## Requisitos relacionados

RF53, RF54, RF55, RF56, RF57, RF58, RNF05

## Descripción

Como ejecutante, quiero que el sistema emita alertas proactivas con dos niveles de severidad (alerta y crisis) cuando detecte condiciones que requieran mi atención — tasa de progresión baja, RIR fuera de rango por módulo, adherencia semanal insuficiente, caída de tonelaje por grupo muscular o inactividad prolongada por módulo — para recibir señales tempranas y objetivas de problemas antes de que comprometan mis adaptaciones, sin que estas señales bloqueen mi autonomía de entrenamiento.

## Historias originales consolidadas

Esta historia consolida las siguientes historias del diseño original, que comparten la misma tabla (`alert`), las mismas pantallas (H1/H2), el mismo patrón (alerta vs. crisis, informativo, no bloqueante, retiro automático) y la misma infraestructura visual (RNF05):

- **HU-26 original** — Alertas de tasa de progresión baja (RF53)
- **HU-27 original** — Alertas de RIR por módulo (RF54, RF55)
- **HU-28 original** — Alertas de adherencia baja (RF56)
- **HU-29 original** — Alertas de caída de tonelaje por grupo muscular (RF57)
- **HU-30 original** — Alertas de inactividad por módulo (RF58)

---

## Criterios de Aceptación

### Bloque A — Alertas de Tasa de Progresión Baja (RF53)

#### CA-17.01 — Alerta por tasa de progresión < 40%

**Dado que** el sistema calcula la Tasa de Progresión de un ejercicio en un período de 4 semanas,
**cuando** el resultado es menor al 40%,
**entonces** emite una alerta informativa indicando el nombre del ejercicio, su tasa de progresión actual y que está por debajo del umbral de alerta.

#### CA-17.02 — Alerta de crisis por tasa de progresión < 20%

**Dado que** el sistema calcula la Tasa de Progresión de un ejercicio en un período de 4 semanas,
**cuando** el resultado es menor al 20%,
**entonces** emite una alerta de crisis con mayor urgencia visual, indicando el nombre del ejercicio, su tasa de progresión actual y que está en estado crítico de estancamiento.

#### CA-17.03 — Diferenciación visual entre alerta y crisis de progresión

**Dado que** el sistema emite una alerta de tasa de progresión,
**cuando** el ejecutante visualiza la alerta,
**entonces** la alerta de nivel normal (< 40%) y la de crisis (< 20%) son visualmente distinguibles entre sí mediante colores e iconografía diferenciada, sin depender únicamente del texto.

#### CA-17.04 — Alertas de progresión informativas, no bloqueantes

**Dado que** el sistema emite una alerta de tasa de progresión baja,
**cuando** el ejecutante interactúa con el sistema,
**entonces** la alerta es informativa y no impide iniciar sesiones, registrar series ni cerrar sesiones; el ejecutante mantiene autonomía total.

#### CA-17.05 — Evaluación periódica de progresión

**Dado que** el sistema evalúa la tasa de progresión,
**cuando** se completa un período de 4 semanas o un microciclo,
**entonces** recalcula la tasa y emite o retira alertas según corresponda al estado actual de cada ejercicio.

### Bloque B — Alertas de RIR por Módulo (RF54, RF55)

#### CA-17.06 — Alerta por RIR Promedio < 1.5 (intensidad excesiva)

**Dado que** el sistema calcula el RIR Promedio de un módulo,
**cuando** el resultado es < 1.5 de forma sostenida durante 2 o más sesiones del mismo módulo,
**entonces** emite una alerta al ejecutante indicando: el módulo afectado, el RIR Promedio actual, que está entrenando demasiado cerca del fallo técnico de forma sostenida, y recomienda prescribir una descarga para permitir recuperación del SNC.

#### CA-17.07 — Alerta por RIR Promedio > 3.5 (intensidad insuficiente)

**Dado que** el sistema calcula el RIR Promedio de un módulo,
**cuando** el resultado es > 3.5 de forma sostenida durante 2 o más sesiones del mismo módulo,
**entonces** emite una alerta al ejecutante indicando: el módulo afectado, el RIR Promedio actual, que el estímulo puede ser insuficiente para generar adaptación, y recomienda incrementar la carga de los ejercicios del módulo.

#### CA-17.08 — Condición de "sostenido" durante 2+ sesiones

**Dado que** el sistema evalúa si el RIR Promedio está fuera de rango de forma sostenida,
**cuando** determina si emitir la alerta,
**entonces** verifica que la condición (< 1.5 o > 3.5) se cumple en las últimas 2 o más sesiones consecutivas del mismo módulo; una sola sesión fuera de rango no dispara la alerta.

#### CA-17.09 — Diferenciación visual entre alertas de RIR

**Dado que** el sistema emite alertas de RIR por módulo,
**cuando** el ejecutante visualiza las alertas,
**entonces** la alerta por RIR bajo (< 1.5, riesgo de fatiga) y la alerta por RIR alto (> 3.5, estímulo insuficiente) son visualmente distinguibles entre sí mediante colores e iconografía diferenciada.

#### CA-17.10 — Alertas de RIR informativas, no bloqueantes

**Dado que** el sistema emite una alerta de RIR por módulo,
**cuando** el ejecutante interactúa con el sistema,
**entonces** la alerta es informativa; no impide entrenar ni fuerza una descarga automática. El ejecutante decide si seguir la recomendación.

#### CA-17.11 — Retiro automático de alerta de RIR

**Dado que** el sistema ha emitido una alerta de RIR por módulo,
**cuando** las sesiones posteriores del módulo retornan el RIR Promedio a la zona óptima (1.5-3.5),
**entonces** el sistema retira la alerta activa para ese módulo.

### Bloque C — Alertas de Adherencia Baja (RF56)

#### CA-17.12 — Alerta informativa por adherencia < 60% en una semana

**Dado que** el sistema calcula el Índice de Adherencia al finalizar una semana natural,
**cuando** el resultado es < 60%,
**entonces** emite una alerta informativa indicando la adherencia de la semana, cuántas sesiones se completaron respecto al objetivo, y que la baja frecuencia puede afectar la resolución temporal de las señales del sistema.

#### CA-17.13 — Alerta de crisis por adherencia < 60% durante 2+ semanas consecutivas

**Dado que** el sistema calcula el Índice de Adherencia semanal,
**cuando** el resultado es < 60% durante 2 o más semanas consecutivas,
**entonces** emite una alerta de crisis con mayor urgencia visual, indicando la racha de semanas con baja adherencia y advirtiendo que las comparaciones entre sesiones pierden validez por el excesivo tiempo entre ellas.

#### CA-17.14 — Diferenciación visual entre alerta y crisis de adherencia

**Dado que** el sistema emite alertas de adherencia,
**cuando** el ejecutante visualiza las alertas,
**entonces** la alerta informativa (1 semana < 60%) y la de crisis (2+ semanas < 60%) son visualmente distinguibles mediante colores e iconografía diferenciada.

#### CA-17.15 — Alertas de adherencia informativas, no bloqueantes

**Dado que** el sistema emite una alerta de adherencia baja,
**cuando** el ejecutante interactúa con el sistema,
**entonces** la alerta es informativa; no impide entrenar, registrar sesiones ni acceder a ninguna funcionalidad. El ejecutante es autónomo.

#### CA-17.16 — Retiro de alerta de crisis de adherencia

**Dado que** el sistema ha emitido una alerta de crisis por adherencia,
**cuando** el ejecutante completa una semana con adherencia ≥ 60%,
**entonces** el sistema retira la alerta de crisis, manteniendo el registro histórico de las semanas con baja adherencia.

### Bloque D — Alertas de Caída de Tonelaje por Grupo Muscular (RF57)

#### CA-17.17 — Alerta por caída de tonelaje > 10%

**Dado que** el sistema calcula el Tonelaje por Grupo Muscular al completar un microciclo,
**cuando** el tonelaje de un grupo muscular cae más del 10% respecto al microciclo anterior,
**entonces** emite una alerta indicando el grupo muscular afectado, el porcentaje de caída y el tonelaje comparado de ambos microciclos.

#### CA-17.18 — Alerta de crisis por caída de tonelaje > 20%

**Dado que** el sistema calcula el Tonelaje por Grupo Muscular al completar un microciclo,
**cuando** el tonelaje de un grupo muscular cae más del 20% respecto al microciclo anterior,
**entonces** emite una alerta de crisis con mayor urgencia visual, indicando que la pérdida de volumen es severa y puede comprometer las adaptaciones del grupo muscular.

#### CA-17.19 — Verificación de descarga planificada

**Dado que** el sistema detecta una caída de tonelaje en un grupo muscular,
**cuando** analiza la causa de la caída,
**entonces** verifica si el microciclo evaluado corresponde a un período de descarga activa (HU-14); si es descarga planificada, la alerta se contextualiza como "Caída esperada por descarga" y no se clasifica como crisis.

#### CA-17.20 — Diferenciación entre descarga y regresión

**Dado que** el sistema emite una alerta de caída de tonelaje,
**cuando** la caída corresponde a una descarga planificada,
**entonces** la alerta indica claramente "Descarga planificada — caída de tonelaje esperada y controlada", diferenciándola de una regresión no intencional.

#### CA-17.21 — Diferenciación visual entre alerta y crisis de tonelaje

**Dado que** el sistema emite alertas de tonelaje,
**cuando** el ejecutante visualiza las alertas,
**entonces** la alerta de nivel normal (> 10%) y la de crisis (> 20%) son visualmente distinguibles mediante colores e iconografía diferenciada.

#### CA-17.22 — Alertas de tonelaje informativas, no bloqueantes

**Dado que** el sistema emite una alerta de caída de tonelaje,
**cuando** el ejecutante interactúa con el sistema,
**entonces** la alerta es informativa y no impide ninguna operación del ejecutante.

### Bloque E — Alertas de Inactividad por Módulo (RF58)

#### CA-17.23 — Alerta por inactividad > 10 días naturales

**Dado que** el sistema monitorea la última fecha de ejecución de cada módulo,
**cuando** transcurren más de 10 días naturales sin que se ejecute un módulo específico (A, B o C),
**entonces** emite una alerta indicando el módulo inactivo, la cantidad de días transcurridos desde su última ejecución y los grupos musculares asociados que pueden verse afectados.

#### CA-17.24 — Alerta de crisis por inactividad > 14 días naturales

**Dado que** el sistema monitorea la última fecha de ejecución de cada módulo,
**cuando** transcurren más de 14 días naturales sin que se ejecute un módulo específico,
**entonces** emite una alerta de crisis con mayor urgencia visual, informando al ejecutante que el grupo muscular asociado puede estar perdiendo adaptaciones musculares y que se recomienda priorizar ese módulo.

#### CA-17.25 — Referencia a los grupos musculares afectados

**Dado que** el sistema emite una alerta de inactividad por módulo,
**cuando** presenta la alerta al ejecutante,
**entonces** detalla los grupos musculares asociados al módulo inactivo: Módulo A = Pecho, Espalda, Abdomen; Módulo B = Hombro, Tríceps, Bíceps; Módulo C = Cuádriceps, Isquiotibiales, Glúteos, Aductores, Abductores, Gemelos.

#### CA-17.26 — Conteo basado en días naturales

**Dado que** el sistema evalúa la inactividad de un módulo,
**cuando** cuenta los días transcurridos,
**entonces** utiliza días naturales del calendario (no sesiones ni microciclos), ya que la pérdida de adaptaciones musculares se correlaciona con el tiempo absoluto sin estímulo.

#### CA-17.27 — Diferenciación visual entre alerta y crisis de inactividad

**Dado que** el sistema emite alertas de inactividad,
**cuando** el ejecutante visualiza las alertas,
**entonces** la alerta de nivel normal (> 10 días) y la de crisis (> 14 días) son visualmente distinguibles mediante colores e iconografía diferenciada.

#### CA-17.28 — Alertas de inactividad informativas, no bloqueantes

**Dado que** el sistema emite una alerta de inactividad por módulo,
**cuando** el ejecutante interactúa con el sistema,
**entonces** la alerta es informativa; no altera la rotación cíclica ni fuerza un cambio de módulo. El ejecutante sigue la rotación normal.

#### CA-17.29 — Retiro automático de alerta de inactividad

**Dado que** el sistema ha emitido una alerta de inactividad para un módulo,
**cuando** el ejecutante completa una sesión de ese módulo,
**entonces** el sistema retira la alerta de inactividad y reinicia el conteo de días para ese módulo.
